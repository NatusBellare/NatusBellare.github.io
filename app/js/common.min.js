jQuery(document).ready(function(o){function d(i){var s=l(i);if(i.parents(".cd-headline").hasClass("type")){var n=i.parent(".cd-words-wrapper");n.addClass("selected").removeClass("waiting"),setTimeout(function(){n.removeClass("selected"),i.removeClass("is-visible").addClass("is-hidden").children("i").removeClass("in").addClass("out")},m),setTimeout(function(){t(s,w)},v)}else if(i.parents(".cd-headline").hasClass("letters")){var e=i.children("i").length>=s.children("i").length;(function i(s,n,e,t){if(s.removeClass("in").addClass("out"),s.is(":last-child")?e&&setTimeout(function(){d(l(n))},f):setTimeout(function(){i(s.next(),n,e,t)},t),s.is(":last-child")&&o("html").hasClass("no-csstransitions")){var a=l(n);r(n,a)}})(i.find("i").eq(0),i,e,u),a(s.find("i").eq(0),s,e,u)}else i.parents(".cd-headline").hasClass("clip")?i.parents(".cd-words-wrapper").animate({width:"2px"},C,function(){r(i,s),t(s)}):i.parents(".cd-headline").hasClass("loading-bar")?(i.parents(".cd-words-wrapper").removeClass("is-loading"),r(i,s),setTimeout(function(){d(s)},h),setTimeout(function(){i.parents(".cd-words-wrapper").addClass("is-loading")},p)):(r(i,s),setTimeout(function(){d(s)},f))}function t(i,s){i.parents(".cd-headline").hasClass("type")?(a(i.find("i").eq(0),i,!1,s),i.addClass("is-visible").removeClass("is-hidden")):i.parents(".cd-headline").hasClass("clip")&&i.parents(".cd-words-wrapper").animate({width:i.width()+10},C,function(){setTimeout(function(){d(i)},e)})}function a(i,s,n,e){i.addClass("in").removeClass("out"),i.is(":last-child")?(s.parents(".cd-headline").hasClass("type")&&setTimeout(function(){s.parents(".cd-words-wrapper").addClass("waiting")},200),n||setTimeout(function(){d(s)},f)):setTimeout(function(){a(i.next(),s,n,e)},e)}function l(i){return i.is(":last-child")?i.parent().children().eq(0):i.next()}function r(i,s){i.removeClass("is-visible").addClass("is-hidden"),s.removeClass("is-hidden").addClass("is-visible")}var s,c,n,f=2e3,h=3e3,p=h-3e3,u=25,w=75,m=200,v=m+100,C=400,e=1e3;n=o(".cd-headline.letters").find("b"),(window.location.href.indexOf("rle")||0!=window.location.port.length)&&n.each(function(){var s=o(this),n=s.text().split(""),e=s.hasClass("is-visible");for(i in n)0<s.parents(".rotate-2").length&&(n[i]="<em>"+n[i]+"</em>"),n[i]=e?'<i class="in">'+n[i]+"</i>":"<i>"+n[i]+"</i>";var t=n.join("");s.html(t).css("opacity",1)}),s=o(".cd-headline"),c=f,s.each(function(){var i=o(this);if(i.hasClass("loading-bar"))c=h,setTimeout(function(){i.find(".cd-words-wrapper").addClass("is-loading")},p);else if(i.hasClass("clip")){var s=i.find(".cd-words-wrapper"),n=s.width()+10;s.css("width",n)}else if(!i.hasClass("type")){var e=i.find(".cd-words-wrapper b"),t=0;e.each(function(){var i=o(this).width();t<i&&(t=i)}),i.find(".cd-words-wrapper").css("width",t)}setTimeout(function(){d(i.find(".is-visible").eq(0))},c)})}),jQuery(document).ready(function(d){function l(i,s,n,e,t){var a=e/2<s?s:e-s,o=t/2<i?i:t-i;return Math.ceil(Math.sqrt(Math.pow(a,2)+Math.pow(o,2))/n)}function r(i,s,n){i.velocity({scale:s},400,function(){d("body").toggleClass("overflow-hidden",n),n?i.parents(".cd-section").addClass("modal-is-visible").end().off("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend"):i.removeClass("is-visible").removeAttr("style").siblings('[data-type="modal-trigger"]').removeClass("to-circle")})}function i(){var i=d(".cd-section.modal-is-visible").find(".cd-modal-bg"),s=i.width()/2,n=i.siblings(".btn").offset().top+s-d(window).scrollTop(),e=i.siblings(".btn").offset().left+s,t=l(n,e,s,d(window).height(),d(window).width());i.velocity({top:n-s,left:e-s,scale:t},0)}function s(){var i=d(".cd-section.modal-is-visible");i.removeClass("modal-is-visible").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){r(i.find(".cd-modal-bg"),1,!1)}),0<i.parents(".no-csstransitions").length&&r(i.find(".cd-modal-bg"),1,!1)}d('[data-type="modal-trigger"]').on("click",function(){var i,s,n,e,t,a=d(this),o=(i=a.next(".cd-modal-bg"),s=i.width()/2,n=i.offset().left+s,e=i.offset().top+s-d(window).scrollTop(),t=l(e,n,s,d(window).height(),d(window).width()),i.css("position","fixed").velocity({top:e-s,left:n-s,translateX:0},0),t);a.addClass("to-circle"),a.next(".cd-modal-bg").addClass("is-visible").one("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){r(a.next(".cd-modal-bg"),o,!0)}),0<a.parents(".no-csstransitions").length&&r(a.next(".cd-modal-bg"),o,!0)}),d(".cd-section .cd-modal-close").on("click",function(){s()}),d(document).keyup(function(i){"27"==i.which&&s()}),d(window).on("resize",function(){0<d(".cd-section.modal-is-visible").length&&window.requestAnimationFrame(i)})}),$(function(){$(".page-scroll a").bind("click",function(i){var s=$(this);$("html, body").stop().animate({scrollTop:$(s.attr("href")).offset().top},1500,"easeInOutExpo"),i.preventDefault()})});